:root {
--bg:#121212;
--text:#eee;
--bg-color:#131313;
--sidebar-bg:#313030;
--text-color:#e0e0e0;
--hover-bg:#3d3d3d;
--accent-color:#da4848;
--video-timeline-bg:rgba(255,255,255,0.03);
--video-timeline-opacity:0.4;
--video-time-color:rgba(255,255,255,0.25);
--video-time-opacity:0.1;
--fancybox-bg:#080808ed;
--video-btn-bg:rgba(255,255,255,0.02);
--video-btn-opacity:0.15;
--sidebar-shadow:#0003;
--loading-text:#aaa;
--sidebar-shadow2:#0000004d;
--sidebar-shadow3:#00000026;
--sidebar-overlay:#00000080;
--scrollbar-track:#1c1c1c;
--scrollbar-thumb:#6c6c6c;
--scrollbar-thumb-hover:#8a8a8a;
--scrollbar-corner:#1c1c1c;
}

video::-webkit-media-controls-timeline{opacity:var(--video-timeline-opacity);padding:0;background-color:var(--video-timeline-bg);}
video::-webkit-media-controls-current-time-display,
video::-webkit-media-controls-time-remaining-display{color:var(--video-time-color);opacity:var(--video-time-opacity);}
.fancybox-bg{background:var(--fancybox-bg);}
video::-webkit-media-controls.sizing-smalldiv[pseudo="-internal-media-controls-button-panel"i]{height:18px;line-height:18px;opacity:var(--video-btn-opacity);padding:0 0 0 5px;background-color:var(--video-btn-bg);}
.masonry-item img{display:block;max-width:100%;height:auto;}
.sidebar-toggle-btn:hover{transform:translateX(5px);}
.sidebar{background:var(--sidebar-bg);}
body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:sans-serif;display:flex;}
.sidebar-toggle-btn{position:fixed;top:5px;left:10px;z-index:1001;background:var(--accent-color);color:#fff;border:none;border-radius:6px;padding:10px 15px;cursor:pointer;transition:transform 0.3s,opacity 0.3s;box-shadow:0 2px 8px var(--sidebar-shadow);}
.gallery-container{flex:1;padding:1em;overflow-y:auto;position:relative;margin-top:60px;}
.masonry{display:flex;margin-left:-1em;width:auto;}
.grid-sizer,.masonry-item{width:calc(33.33% - 1em);margin-left:1em;margin-bottom:1em;}
.masonry-item{background:transparent;overflow:visible;border-radius:0;}
.loading{opacity:0;text-align:center;padding:1em;color:var(--loading-text);}
@media(max-width:1200px){.grid-sizer,.masonry-item{width:calc(33.33% - 1em);}}
@media(max-width:768px){
.grid-sizer,.masonry-item{width:calc(50% - 1em);}
.sidebar.open{width:80%;left:0;box-shadow:4px 0 20px var(--sidebar-shadow2);}
.sidebar::after{content:"";position:fixed;top:0;right:0;width:100vw;height:100vh;background:var(--sidebar-overlay);z-index:-1;pointer-events:none;opacity:0;transition:opacity 0.3s;}
.sidebar.open::after{opacity:1;pointer-events:all;}
}
@media(max-width:480px){.grid-sizer,.masonry-item{width:100%;margin-left:0;}}
.sidebar{background:var(--sidebar-bg);position:fixed;left:-40vw;top:0;width:35%;height:100vh;overflow-y:auto;transition:left 0.3s cubic-bezier(0.4,0,0.2,1);z-index:1000;box-shadow:4px 0 12px var(--sidebar-shadow3);padding:15px;}
.sidebar.open{left:0;}
.sidebar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid var(--hover-bg);}
.folder-list{list-style:none;padding-left:0;margin:0;}
.folder-item{transition:0.2s;display:flex;align-items:baseline;flex-wrap:wrap;}
.folder-link{color:var(--text-color);font-size:14px;display:flex;align-items:center;gap:8px;text-decoration:none;flex:1;min-width:0;}
.folder-link.active{color:var(--accent-color);font-weight:500;}
.folder-spacer,.folder-toggle{flex:0 0 14px;display:flex;align-items:center;justify-content:center;}
.folder-toggle{cursor:pointer;transition:transform 0.2s;}
.folder-toggle::after{content:"▶";font-size:0.8em;color:var(--text-color);}
.folder-item.open>.folder-toggle::after{content:"▼";}
.folder-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.folder-children{margin-left:15px;padding-left:10px;border-left:2px solid var(--accent-color);display:none;width:100%;}
::-webkit-scrollbar{width:8px;height:8px;}
::-webkit-scrollbar-track{background:var(--scrollbar-track);}
::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb);border-radius:6px;border:2px solid var(--scrollbar-track);}
::-webkit-scrollbar-thumb:hover{background-color:var(--scrollbar-thumb-hover);}
::-webkit-scrollbar-corner{background:var(--scrollbar-corner);}
.masonry-item{overflow:visible;border-radius:0;}
.masonry-item img,.thumb-img{width:100%;height:auto;display:block;object-fit:contain;border-radius:8px;}
.thumb-img{position:static;display:block;width:auto;height:auto;max-width:100%;max-height:100%;object-fit:contain;object-position:center center;}
